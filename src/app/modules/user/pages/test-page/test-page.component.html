<div class="test-page">
  <mat-card appearance="outlined" class="test-page-card">
    <mat-card-header class="test-card-header">
      <mat-card-title>Quiz : {{category?.name}}</mat-card-title>
      <mat-card-subtitle>{{category?.description}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content class="test-card-content">
      <form [formGroup]="userTestFormGroup">
        @for (quiz of category?.quiz; track quiz; let quizIndex = $index) {
          <p>{{quiz.description}}</p>
          <ul>
            @for (option of quiz?.options; track option; let optionIndex = $index) {
              <li>
                <mat-checkbox [checked]="option.correct"
                              formControlName="question_{{quizIndex}}_option{{optionIndex}}"
                              [color]="'primary'" class="option-checked">
                  {{option.description}}
                </mat-checkbox>
              </li>
            }
          </ul>
        }
      </form>
    </mat-card-content>
    <mat-card-actions class="test-card-actions">
      <button mat-button routerLink="/user/categories">Back</button>
      <button [color]="'primary'" mat-button (click)="onValidateTest()">Validate</button>
    </mat-card-actions>
  </mat-card>
</div>
